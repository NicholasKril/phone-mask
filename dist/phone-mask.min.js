/*!
 * PhoneMask
 * Author: Nicholas Kril
 * GitHub: https://github.com/NicholasKril/phonemask
 * License: MIT
 * Version: 1.0.0
 */
 !function(a,i){let g="+_______________",t=/[\s\-()]/,d=/\d/;a.PhoneMask={init(a='input[type="tel"]'){i.querySelectorAll(a).forEach(a=>{a.__phoneMaskAttached||(a.__phoneMaskAttached=!0,function a(l){let s=l.parentElement;if(!s)return;l.dataset.length="15",l.dataset.country="";let e=s.querySelector(".phone-hint");e||((e=i.createElement("span")).className="phone-hint",l.after(e));let o=!1,r=!1,m=[{code:"AF",dial:"93",maxDigits:11,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"BD",dial:"880",maxDigits:13,groups:[3,4,4],mask:"+{dial} ___ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"AZ",dial:"994",maxDigits:12,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"AM",dial:"374",maxDigits:11,groups:[2,3,3],mask:"+{dial} __ ___ ___",format:"+{dial} {g1} {g2} {g3}"},{code:"BY",dial:"375",maxDigits:12,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"BH",dial:"973",maxDigits:11,groups:[4,4],mask:"+{dial} ____ ____",format:"+{dial} {g1} {g2}"},{code:"BT",dial:"975",maxDigits:10,groups:[3,4],mask:"+{dial} ___ ____",format:"+{dial} {g1} {g2}"},{code:"BN",dial:"673",maxDigits:10,groups:[3,4],mask:"+{dial} ___ ____",format:"+{dial} {g1} {g2}"},{code:"CF",dial:"236",maxDigits:11,groups:[2,4,4],mask:"+{dial} __ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"TD",dial:"235",maxDigits:11,groups:[2,4,4],mask:"+{dial} __ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"KM",dial:"269",maxDigits:10,groups:[3,4],mask:"+{dial} ___ ____",format:"+{dial} {g1} {g2}"},{code:"CV",dial:"238",maxDigits:11,groups:[2,4,4],mask:"+{dial} __ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"AL",dial:"355",maxDigits:12,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"DZ",dial:"213",maxDigits:12,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"AO",dial:"244",maxDigits:12,groups:[3,3,3],mask:"+{dial} ___ ___ ___",format:"+{dial} {g1} {g2} {g3}"},{code:"AR",dial:"54",maxDigits:13,groups:[2,4,4],mask:"+{dial} __ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"AU",dial:"61",maxDigits:11,groups:[1,4,4],mask:"+{dial} _ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"AT",dial:"43",maxDigits:11,groups:[3,4,4],mask:"+{dial} ___ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"BE",dial:"32",maxDigits:11,groups:[3,3,3],mask:"+{dial} ___ ___ ___",format:"+{dial} {g1} {g2} {g3}"},{code:"BJ",dial:"229",maxDigits:11,groups:[2,4,4],mask:"+{dial} __ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"BO",dial:"591",maxDigits:11,groups:[2,4,4],mask:"+{dial} __ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"BA",dial:"387",maxDigits:11,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"BR",dial:"55",maxDigits:13,groups:[2,4,4],mask:"+{dial} __ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"BG",dial:"359",maxDigits:11,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"CM",dial:"237",maxDigits:11,groups:[2,4,4],mask:"+{dial} __ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"CA",dial:"1",maxDigits:11,groups:[3,3,4],mask:"+{dial} ___ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"CN",dial:"86",maxDigits:13,groups:[3,4,4],mask:"+{dial} ___ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"CO",dial:"57",maxDigits:12,groups:[3,4,4],mask:"+{dial} ___ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"HR",dial:"385",maxDigits:11,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"CU",dial:"53",maxDigits:11,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"CY",dial:"357",maxDigits:11,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"CZ",dial:"420",maxDigits:12,groups:[3,3,3],mask:"+{dial} ___ ___ ___",format:"+{dial} {g1} {g2} {g3}"},{code:"DK",dial:"45",maxDigits:10,groups:[4,4],mask:"+{dial} ____ ____",format:"+{dial} {g1} {g2}"},{code:"EE",dial:"372",maxDigits:11,groups:[3,4,4],mask:"+{dial} ___ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"FI",dial:"358",maxDigits:12,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"FR",dial:"33",maxDigits:11,groups:[1,2,2,2,2],mask:"+{dial} _ __ __ __ __",format:"+{dial} {g1} {g2} {g3} {g4} {g5}"},{code:"DE",dial:"49",maxDigits:13,groups:[3,4,4],mask:"+{dial} ___ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"GR",dial:"30",maxDigits:11,groups:[3,4,4],mask:"+{dial} ___ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"HU",dial:"36",maxDigits:11,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"IE",dial:"353",maxDigits:11,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"IL",dial:"972",maxDigits:11,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"IT",dial:"39",maxDigits:11,groups:[3,4,4],mask:"+{dial} ___ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"JP",dial:"81",maxDigits:11,groups:[2,4,4],mask:"+{dial} __ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"LV",dial:"371",maxDigits:11,groups:[3,4,4],mask:"+{dial} ___ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"LT",dial:"370",maxDigits:11,groups:[3,4,4],mask:"+{dial} ___ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"LU",dial:"352",maxDigits:11,groups:[3,4,4],mask:"+{dial} ___ ____ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"MD",dial:"373",maxDigits:11,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"ME",dial:"382",maxDigits:11,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"NL",dial:"31",maxDigits:11,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"NO",dial:"47",maxDigits:10,groups:[4,4],mask:"+{dial} ____ ____",format:"+{dial} {g1} {g2}"},{code:"PL",dial:"48",maxDigits:11,groups:[3,3,3],mask:"+{dial} ___ ___ ___",format:"+{dial} {g1} {g2} {g3}"},{code:"PT",dial:"351",maxDigits:11,groups:[3,3,3],mask:"+{dial} ___ ___ ___",format:"+{dial} {g1} {g2} {g3}"},{code:"RO",dial:"40",maxDigits:11,groups:[3,3,3],mask:"+{dial} ___ ___ ___",format:"+{dial} {g1} {g2} {g3}"},{code:"RS",dial:"381",maxDigits:11,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"SK",dial:"421",maxDigits:12,groups:[3,3,3],mask:"+{dial} ___ ___ ___",format:"+{dial} {g1} {g2} {g3}"},{code:"SI",dial:"386",maxDigits:11,groups:[2,3,4],mask:"+{dial} __ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"ES",dial:"34",maxDigits:11,groups:[3,3,3],mask:"+{dial} ___ ___ ___",format:"+{dial} {g1} {g2} {g3}"},{code:"SE",dial:"46",maxDigits:11,groups:[3,3,3],mask:"+{dial} ___ ___ ___",format:"+{dial} {g1} {g2} {g3}"},{code:"CH",dial:"41",maxDigits:11,groups:[3,3,3],mask:"+{dial} ___ ___ ___",format:"+{dial} {g1} {g2} {g3}"},{code:"TR",dial:"90",maxDigits:11,groups:[3,3,4],mask:"+{dial} ___ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"UA",dial:"38",localPrefix:"0",maxDigits:12,groups:[3,3,2,2],mask:"+{dial} (___) ___-__-__",format:"+{dial} ({g1}) {g2}-{g3}-{g4}"},{code:"GB",dial:"44",maxDigits:11,groups:[4,3,4],mask:"+{dial} ____ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"US",dial:"1",maxDigits:11,groups:[3,3,4],mask:"+{dial} ___ ___ ____",format:"+{dial} {g1} {g2} {g3}"},{code:"CA",dial:"1",maxDigits:11,groups:[3,3,4],mask:"+{dial} ___ ___ ____",format:"+{dial} {g1} {g2} {g3}"}],_=a=>a.replace(/\D/g,"");function n(a){let i=_(a);for(let g of m)if(g.localPrefix&&i.startsWith(g.localPrefix)||i.startsWith(g.dial))return g;return null}function c(a){for(let i=a.length-1;i>=0;i--)if(d.test(a[i]))return i+1;return a.length}function u(a){if(!a)return"";if("+"===a)return"+";let i=_(a);if(!i)return a.startsWith("+")?"+":"";let g=n(a);if(!g)return"+"+i.slice(0,"15");g.localPrefix&&i.startsWith(g.localPrefix)&&(i=g.dial+i);let t=(i=i.slice(0,g.maxDigits)).slice(g.dial.length),d=0,l=g.groups.map(a=>{let i=t.slice(d,d+a);return d+=a,i}),s=g.format.replace("{dial}",g.dial);return l.forEach((a,i)=>{s=s.replace(`{g${i+1}}`,a||"")}),s.replace(/[()\-\s]+$/,"")}function f(){if(o||r)return;o=!0;let a=l.selectionStart,i=l.value,g=u(i);if(i!==g){let t=g.length-i.length;l.value=g,l.setSelectionRange(a+t,a+t)}o=!1}function p(){let a=l.value,t=i.activeElement===l;if(!a&&!t){e.innerHTML="",l.style.color="transparent",l.dataset.length="15",l.dataset.country="";return}if(!a&&t){e.innerHTML=`<span class="hint-remaining">${g}</span>`,l.style.color="transparent",l.dataset.length="15",l.dataset.country="";return}let d=u(a),s=n(d);if(!s){let o=a.startsWith("+")?a:"+"+_(a);e.innerHTML=`<span class="hint-entered">${o}</span><span class="hint-remaining">${g.slice(o.length)}</span>`,l.dataset.length="15",l.dataset.country="",l.style.color="transparent";return}l.dataset.length=s.maxDigits,l.dataset.country=s.code;let r=s.mask.replace("{dial}",s.dial);e.innerHTML=`<span class="hint-entered">${d}</span><span class="hint-remaining">${r.slice(d.length)}</span>`}l.addEventListener("keydown",a=>{if("Backspace"!==a.key){r=!1;return}let i=l.selectionStart,g=l.value;if(1===i&&"+"===g[0]){a.preventDefault(),l.value="",p(),r=!0;return}if(0===i)return;a.preventDefault();let s=i-1;t.test(g[s])&&s--,s>=0&&d.test(g[s])&&s--;let e=g.slice(0,s+1)+g.slice(i),o=u(e);l.value=o,l.setSelectionRange(c(o),c(o)),p(),r=!0}),l.addEventListener("input",()=>{if(r){r=!1;return}f(),p()}),l.addEventListener("paste",()=>{setTimeout(()=>{f(),p()},0)}),l.addEventListener("focus",()=>{setTimeout(()=>{f(),p()},0)}),l.addEventListener("blur",p)}(a))})}}}(window,document);